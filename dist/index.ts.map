{"version":3,"file":"index.ts","sources":["../src/utils/removeAccents.ts","../src/components/InputTags/index.tsx","../src/constants/index.ts","../src/components/ImageItem/ImageItem.tsx","../src/components/Pricetags/PriceTags.tsx","../src/utils/transform.ts","../src/modules/Comment/CommentView.tsx"],"sourcesContent":["export const removeAccents = (str: string) => {\n  var AccentsMap = [\n    \"aàảãáạăằẳẵắặâầẩẫấậ\",\n    \"AÀẢÃÁẠĂẰẲẴẮẶÂẦẨẪẤẬ\",\n    \"dđ\",\n    \"DĐ\",\n    \"eèẻẽéẹêềểễếệ\",\n    \"EÈẺẼÉẸÊỀỂỄẾỆ\",\n    \"iìỉĩíị\",\n    \"IÌỈĨÍỊ\",\n    \"oòỏõóọôồổỗốộơờởỡớợ\",\n    \"OÒỎÕÓỌÔỒỔỖỐỘƠỜỞỠỚỢ\",\n    \"uùủũúụưừửữứự\",\n    \"UÙỦŨÚỤƯỪỬỮỨỰ\",\n    \"yỳỷỹýỵ\",\n    \"YỲỶỸÝỴ\",\n  ]\n  for (var i = 0; i < AccentsMap.length; i++) {\n    var re = new RegExp(\"[\" + AccentsMap[i].substr(1) + \"]\", \"g\")\n    var char = AccentsMap[i][0]\n    str = str.replace(re, char)\n  }\n  return str\n}\n","import { useEffect, useState } from \"react\"\nimport ReactTags, { Tag, TagComponentProps } from \"react-tag-autocomplete\"\nimport _ from \"lodash\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\"\n\nimport \"components/InputTags/index.scss\"\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport { removeAccents } from \"utils/removeAccents\"\n\ninterface ITag {\n  id: string | number\n  name: string\n}\n\ninterface ISuggestion {\n  id: string | number\n  name: string\n}\n\ntype InputTagsProps = {\n  className?: string | null\n  id: string\n  allowChange: boolean\n  placeholderText?: string\n  showLimit: boolean\n  tags: ITag[]\n  suggestions: ISuggestion[]\n  noSuggestionsText?: string\n  categoryId: number\n  requiredTextInput?: boolean\n  dataTypeTextInput: string\n  onHandleChange: (tags: ITag[], categoryId: number) => void\n}\n\nconst _window = (window as any).window\n\nexport const InputTags = (props: InputTagsProps) => {\n  const [tags, setTags] = useState<ITag[]>(props.tags)\n\n  const [suggestions, setSuggestions] = useState<ISuggestion[]>(\n    props.suggestions\n  )\n\n  const [, setTotal] = useState<number>(tags.length | 0)\n\n  useEffect(() => {\n    setTotal(tags.length)\n    props.onHandleChange(tags, props.categoryId)\n  }, [])\n\n  useEffect(() => {\n    setTotal(tags.length)\n    props.onHandleChange(tags, props.categoryId)\n  }, [tags, suggestions])\n\n  useEffect(() => {\n    if (!_.isEmpty(props.suggestions)) {\n      setSuggestions(props.suggestions)\n    }\n  }, [props.suggestions])\n\n  const onAddTag = (tag: { id: string | number; name: string }) => {\n    const tagIsTrim = { ...tag, name: tag.name.trim() }\n    if (tags.length >= 50) {\n      return\n    }\n    if (!_.find(tags, tagIsTrim) && !_.isEmpty(tagIsTrim.name)) {\n      setTags([...tags, tagIsTrim])\n      _.remove(suggestions, (element: ISuggestion) => {\n        return element.name == tag.name\n      })\n    }\n  }\n  const onDeleteTag = (i: number) => {\n    const tagsTmp = tags.slice(0)\n    console.log(\"i\", i)\n    if (_.isNumber(i) && i >= 0 && _.isNumber(tagsTmp[i].id)) {\n      setSuggestions([...suggestions, tagsTmp[i]])\n    }\n    tagsTmp.splice(i, 1)\n    setTags(tagsTmp)\n  }\n\n  const inputAttributes = {\n    maxLength: 500,\n    disabled: !props.allowChange,\n  }\n\n  const tagComponent = (props: TagComponentProps) => {\n    return (\n      <button disabled className=\"tag-comment\">\n        <span className=\"tag-comment__title\">{props.tag.name}</span>\n        <span className=\"tag-comment__icon\" onClick={props.onDelete}>\n          <FontAwesomeIcon icon={faTimes} />\n        </span>\n      </button>\n    )\n  }\n\n  const onHandChangeTextArea = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    console.log(\"e\", e.target.value)\n    let tags = [\n      {\n        id: \"\",\n        name: e.target.value,\n      },\n    ]\n    if (_.isEmpty(e.target.value)) {\n      tags = []\n    }\n    setTags(tags)\n    props.onHandleChange(tags, props.categoryId)\n  }\n\n  const onHandleSuggestionsTransform = (query: string, suggestions: Tag[]) => {\n    const filteredSuggestions = _.filter(suggestions, (item: Tag) => {\n      return (\n        removeAccents(item.name).toLowerCase().includes(query.toLowerCase()) ||\n        item.name.toLowerCase().includes(query.toLowerCase())\n      )\n    })\n    return filteredSuggestions\n  }\n\n  useEffect(() => {\n    $(\".react-tags__search-input\").on(\"keyup\", function (e) {\n      if (\n        (e.which == 40 || e.which == 38) &&\n        _window.document.getElementById(\"ReactTags\") != undefined\n      ) {\n        _window.document.getElementById(\"ReactTags\").scrollTop = 0\n        const offsetItem =\n          _window.document.getElementsByClassName(\"is-active\")[0].offsetTop +\n          _window.document.getElementsByClassName(\"is-active\")[0].offsetHeight\n        _window.document.getElementById(\"ReactTags\").scrollTop =\n          offsetItem - _window.document.getElementById(\"ReactTags\").offsetHeight\n      }\n    })\n  }, [])\n\n  return (\n    <>\n      {props.dataTypeTextInput === \"Tag\" ? (\n        <div\n          className=\"input-tags-comment\"\n          id={props.id}\n          style={{ pointerEvents: props.allowChange ? \"auto\" : \"none\" }}\n        >\n          {/* {props.showLimit && <p className='limit-tags'>{total}/50</p>} */}\n          <ReactTags\n            addOnBlur={true}\n            allowBackspace={true}\n            allowNew={true}\n            delimiters={[\"Enter\", \"Tab\", \".\"]}\n            onAddition={onAddTag}\n            onDelete={onDeleteTag}\n            inputAttributes={inputAttributes}\n            minQueryLength={1}\n            // noSuggestionsText={props.noSuggestionsText}\n            placeholderText={_.isEmpty(tags) ? props.placeholderText : \"\"}\n            suggestions={suggestions}\n            tagComponent={tagComponent}\n            tags={tags}\n            maxSuggestionsLength={100}\n            suggestionsTransform={onHandleSuggestionsTransform}\n          />\n        </div>\n      ) : (\n        <textarea\n          className=\"text-area-comment\"\n          placeholder={_.isEmpty(tags) ? props.placeholderText : \"\"}\n          id={props.id}\n          rows={4}\n          onChange={(e) => onHandChangeTextArea(e)}\n        />\n      )}\n    </>\n  )\n}","export const CALL_BA = \" Call BA\";\nexport const CALL_CUSTOMER = \" Call Khách Mua\";\n\n// Date\nexport const FORMAT_TYPE = \"DD/MM/YYYY\";\n\n// Rating\nexport const RATING_GAP = 3;\nexport const RATING_GET_STAR = 20;\nexport const RATING_SiZE_STAR_FEEDBACKS = 10;\nexport const RATING_SiZE_STAR_FEEDBACK_AVERAGE = 14;\nexport const RATING_COLOR_ACTIVE_STAR = \"#fde16d\";\nexport const RATING_COLOR_INACTIVE_STAR = \"#aaa\";\n\n// Btn\nexport const BTN_CLOSE = \"Close\";\nexport const BTN_SAVE = \"Save\";\n\nexport const FEED_BACK_FROM_CUSTOMERS = \"Khách hàng phản hồi\";\n\nexport const TXT_SHOW_ALL = \"Xem tất cả\";\nexport const TXT_COLLAPSE = \"Thu gọn\";\n\n// Paging\nexport const DEFAULT_PAGE = 1;\nexport const DEFAULT_LIMIT = 10;\nexport const DEFAULT_PAGE_NEIGHBOURS = 1;\n\n// Code\nexport const CODE_LISTING_IN_MONTH = \"SA_LIST_LISTING_GTE_4.5\";\nexport const CODE_LISTING_NINETY_DAYS = \"SA_LIST_LISTING_LT_4.5\";\nexport const CODE_LISTING_DOES_NOT_HAVE_BPO = \"SA_LIST_LISTING_NO_BPO\";\nexport const CODE_NEED_TO_BPO = \"NEED_TO_BPO\";\nexport const CODE_NOT_YET_BPO = \"NOT_YET_BPO\";\n\n// Color\nexport const COLOR_CHART: { [key: string]: string } = {\n    COMPLETED_IN_THIS_MONTH: \"#00a65a\",\n    COMPLETED_IN_90_DAYS: \"#d8b10f\",\n    INCOMPLETE: \"#d8b10f\",\n    CONFLICT: \"#d74633\",\n    NEED_TO_BPO: \"#454545\",\n    NOT_YET_BPO: \"#454545\",\n};\n\n// Image limit\nexport const IMAGE_LIMIT = 10;\n\n// Bpo\nexport const BPO = 'bpo';\nexport const BPO_BUY_SIDE = 'bpo_buy_side';\nexport const BPO_SELL_SIDE = 'bpo_sell_side';\n\n// Sale Pipeline\nexport const SALE_PIPELINE_REPORT = 'sale_pipeline_report';","import { useEffect, useState } from \"react\"\nimport Lightbox from \"react-image-lightbox\"\nimport axios from \"axios\"\n\nimport { IMAGE_LIMIT } from \"constants/index\"\nimport { ResponseUploadImage } from \"model/core-model/UtilModel\"\n\nimport \"components/ImageItem/ImageItem.scss\"\nimport \"react-image-lightbox/style.css\"\n\nconst _window = (window as any).window\n\ntype ImageItemProp = {\n  categoryId: string | number\n  showPhoto: boolean\n  requiredTextInput: boolean\n  onHandleChangeImage: Function\n  categoryName: string\n}\n\nexport const ImageItem = (props: ImageItemProp) => {\n  const [imageList, setImageList] = useState<Array<ResponseUploadImage>>([])\n  const [photoIndex, setPhotoIndex] = useState(0)\n  const [isOpenLightBox, setIsOpenLightBox] = useState(false)\n  const [imageListLightBox, setImageListLightBox] = useState([])\n  const [nameInput] = useState(`inputFile${props.categoryId}`)\n\n  const onClickUpload = () => {\n    if (imageList.length >= IMAGE_LIMIT) {\n      _window.showPropzyAlertPopupGeneral(\n        `Đã đạt giới hạn ${IMAGE_LIMIT} hình ảnh`\n      )\n      return\n    }\n    _window.document.getElementById(nameInput).click()\n  }\n\n  const onFileChange = (e: any) => {\n    let filesData = e.target.files\n\n    let promiseUpload: any = []\n    let lengthImageList = imageList ? imageList.length : 0\n    let lengthImageRemain = IMAGE_LIMIT - lengthImageList\n    let lengthFilesData = filesData.length\n    let filesDataToUpload: any = filesData\n\n    if (lengthFilesData > lengthImageRemain) {\n      filesDataToUpload = [...filesData].splice(0, lengthImageRemain)\n    }\n\n    ;[...filesDataToUpload].forEach(async (itemFile: any) => {\n      const dataPost = new FormData()\n\n      dataPost.append(\"file\", itemFile)\n      dataPost.append(\"type\", \"listing\")\n      dataPost.append(\"source\", \"dashboard\")\n\n      promiseUpload.push(\n        axios.post(`${_window.baseUploadApiPublic}upload`, dataPost)\n      )\n    })\n\n    _window.showPropzyLoadingBPO()\n    try {\n      // get promise all image upload\n      Promise.all(promiseUpload).then(function (values) {\n        let isErrUpload = false\n\n        let newListImage: Array<ResponseUploadImage> = [...imageList]\n        let newListImageLightBox: any = [...imageListLightBox]\n\n        values.forEach((itemFile: any) => {\n          if (itemFile && itemFile.data.result) {\n            let largeLinkArr = itemFile.data.data.link.split(\"large\")\n            let originLargeLink = \"\"\n\n            largeLinkArr.forEach((itemLink: any, indexLink: number) => {\n              if (indexLink == 0) {\n                originLargeLink = itemLink + \"origin\"\n              } else originLargeLink += itemLink\n            })\n\n            newListImage = [\n              ...newListImage,\n              {\n                link: originLargeLink,\n                isPrivate: false,\n                source: \"dashboard\",\n                isApproved: true,\n              },\n            ]\n            newListImageLightBox = [...newListImageLightBox, originLargeLink]\n          } else {\n            isErrUpload = true\n          }\n\n          // reset cache upload image\n          _window.document.getElementById(nameInput).value = \"\"\n        })\n\n        setImageList(newListImage)\n        setImageListLightBox(newListImageLightBox)\n\n        _window.hidePropzyLoadingBPO()\n        if (isErrUpload) {\n          _window.showPropzyAlertPopupGeneral(\n            \"Đã có lỗi trong khi upload hình. Xin vui lòng thử lại\"\n          )\n        }\n      })\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  const removeImage = (e: any, item: ResponseUploadImage) => {\n    e.stopPropagation()\n    setImageList(imageList.filter((itemList) => itemList.link != item.link))\n    setImageListLightBox(\n      imageListLightBox.filter(\n        (itemListLighBox) => itemListLighBox != item.link\n      )\n    )\n  }\n\n  useEffect(() => {\n    props.onHandleChangeImage(imageList, props.categoryId)\n  }, [imageList])\n\n  const renderLightBox = (index: number) => {\n    setPhotoIndex(index)\n    setIsOpenLightBox(true)\n  }\n\n  return (\n    <>\n      <div className=\"image-item-container\">\n        <div className=\"block-upload\">\n          <div>\n            {props.categoryName}{\" \"}\n            {props.requiredTextInput && <span className=\"red\">*</span>}\n          </div>\n\n          {props.showPhoto && (\n            <a className=\"add-images-files\" onClick={onClickUpload}>\n              <i className=\"fa fa-camera\" aria-hidden=\"true\"></i>\n              Thêm ảnh\n              <input\n                type=\"file\"\n                className=\"hidden\"\n                id={nameInput}\n                multiple\n                name=\"files[]\"\n                onChange={(e) => {\n                  onFileChange(e)\n                }}\n              />\n            </a>\n          )}\n        </div>\n        <div className=\"block-image\">\n          {imageList.map((item, index) => {\n            return (\n              <div\n                onClick={() => renderLightBox(index)}\n                className=\"image\"\n                key={item.link || \"\"}\n              >\n                <img src={item.link || \"\"} alt=\"\" />\n                <span onClick={(e) => removeImage(e, item)}>X</span>\n              </div>\n            )\n          })}\n        </div>\n      </div>\n\n      {isOpenLightBox && (\n        <Lightbox\n          mainSrc={imageListLightBox[photoIndex]}\n          nextSrc={\n            imageListLightBox[(photoIndex + 1) % imageListLightBox.length]\n          }\n          prevSrc={\n            imageListLightBox[\n            (photoIndex + imageListLightBox.length - 1) %\n            imageListLightBox.length\n            ]\n          }\n          onCloseRequest={() => setIsOpenLightBox(false)}\n          onMovePrevRequest={() =>\n            setPhotoIndex(\n              (photoIndex + imageListLightBox.length - 1) %\n              imageListLightBox.length\n            )\n          }\n          onMoveNextRequest={() =>\n            setPhotoIndex((photoIndex + 1) % imageListLightBox.length)\n          }\n        />\n      )}\n    </>\n  )\n}\n","import { useEffect, useState } from \"react\"\n\nimport ReactTags, { Tag, TagComponentProps } from \"react-tag-autocomplete\"\nimport axios from \"axios\"\n\nimport _ from \"lodash\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\"\n\nimport { removeAccents } from \"utils/removeAccents\"\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport \"components/Pricetags/Pricetags.scss\"\n\ninterface ITag {\n  id: string | number\n  name: string\n}\n\ninterface ISuggestion {\n  id: string | number\n  name: string\n}\n\ntype PriceTagsProps = {\n  className?: string | null\n  id: string\n  allowChange: boolean\n  placeholderText?: string\n  showLimit: boolean\n  tags: ITag[]\n  suggestions: ISuggestion[]\n  noSuggestionsText?: string\n  categoryId: number\n  requiredTextInput?: boolean\n  dataTypeTextInput: string\n  onHandleChange: (tags: ITag[], categoryId: number) => void\n}\n\nconst _window = (window as any).window\n\nexport const PriceTags = (props: PriceTagsProps) => {\n  const [tags, setTags] = useState<ITag[]>(props.tags)\n\n  const [suggestions, setSuggestions] = useState<ISuggestion[]>(\n    props.suggestions\n  )\n\n  const [, setTotal] = useState<number>(tags.length | 0)\n  const [defaultTags, setDefaultTags] = useState<any[]>([])\n\n  useEffect(() => {\n    const configDefaultTag: any = {\n      method: \"get\",\n      url: \"/price-tag/tag-display/list/default\",\n    }\n    const fetchData = async () => {\n      try {\n        const res = await axios(configDefaultTag)\n        const tagsTemp = [...defaultTags]\n        res.data.data.forEach((item: any) => {\n          let temp = { id: \"\", name: item.displayContent }\n          tagsTemp.push(temp)\n        })\n        setDefaultTags(tagsTemp)\n      } catch (error) {\n        console.log(\"error\", error)\n      }\n    }\n    fetchData()\n  }, [])\n\n  useEffect(() => {\n    setTotal(tags.length)\n    props.onHandleChange(tags, props.categoryId)\n  }, [])\n\n  useEffect(() => {\n    setTotal(tags.length)\n    props.onHandleChange(tags, props.categoryId)\n  }, [tags, suggestions])\n\n  useEffect(() => {\n    if (!_.isEmpty(props.suggestions)) {\n      setSuggestions(props.suggestions)\n    }\n  }, [props.suggestions])\n\n  const onAddTag = (tag: { id: string | number; name: string }) => {\n    const tagIsTrim = { ...tag, name: tag.name.trim() }\n    if (tags.length >= 50) {\n      return\n    }\n    if (!_.find(tags, tagIsTrim) && !_.isEmpty(tagIsTrim.name)) {\n      setTags([...tags, tagIsTrim])\n      _.remove(suggestions, (element: ISuggestion) => {\n        return element.name == tag.name\n      })\n    }\n  }\n  const onDeleteTag = (i: number) => {\n    const tagsTmp = tags.slice(0)\n    console.log(\"i\", i)\n    if (_.isNumber(i) && i >= 0 && _.isNumber(tagsTmp[i].id)) {\n      setSuggestions([...suggestions, tagsTmp[i]])\n    }\n    tagsTmp.splice(i, 1)\n    setTags(tagsTmp)\n  }\n\n  const inputAttributes = {\n    maxLength: 500,\n    disabled: !props.allowChange,\n  }\n\n  const tagComponent = (props: TagComponentProps) => {\n    return (\n      <button disabled className=\"tag-comment\">\n        <span className=\"tag-comment__title\">{props.tag.name}</span>\n        <span className=\"tag-comment__icon\" onClick={props.onDelete}>\n          <FontAwesomeIcon icon={faTimes} />\n        </span>\n      </button>\n    )\n  }\n\n  const onHandChangeTextArea = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    console.log(\"e\", e.target.value)\n    let tags = [\n      {\n        id: \"\",\n        name: e.target.value,\n      },\n    ]\n    if (_.isEmpty(e.target.value)) {\n      tags = []\n    }\n    setTags(tags)\n    props.onHandleChange(tags, props.categoryId)\n  }\n\n  const onHandleSuggestionsTransform = (query: string, suggestions: Tag[]) => {\n    const filteredSuggestions = _.filter(suggestions, (item: Tag) => {\n      return (\n        removeAccents(item.name).toLowerCase().includes(query.toLowerCase()) ||\n        item.name.toLowerCase().includes(query.toLowerCase())\n      )\n    })\n    return filteredSuggestions\n  }\n\n  useEffect(() => {\n    $(\".react-tags__search-input\").on(\"keyup\", function (e) {\n      if (\n        (e.which == 40 || e.which == 38) &&\n        _window.document.getElementById(\"ReactTags\") != undefined\n      ) {\n        _window.document.getElementById(\"ReactTags\").scrollTop = 0\n        const offsetItem =\n          _window.document.getElementsByClassName(\"is-active\")[0].offsetTop +\n          _window.document.getElementsByClassName(\"is-active\")[0].offsetHeight\n        _window.document.getElementById(\"ReactTags\").scrollTop =\n          offsetItem - _window.document.getElementById(\"ReactTags\").offsetHeight\n      }\n    })\n  }, [])\n\n  return (\n    <>\n      <div className=\"pricetag\">\n        <div className=\"pricetag__header\">\n          <div>\n            Giá {props.requiredTextInput && <span className=\"red\">*</span>}\n          </div>\n        </div>\n        <div className=\"pricetag__tags\">\n          {props.dataTypeTextInput === \"Tag\" ? (\n            <div\n              className=\"input-tags-comment\"\n              id={props.id}\n              style={{ pointerEvents: props.allowChange ? \"auto\" : \"none\" }}\n            >\n              {/* {props.showLimit && <p className='limit-tags'>{total}/50</p>} */}\n              <ReactTags\n                addOnBlur={true}\n                allowBackspace={true}\n                allowNew={true}\n                delimiters={[\"Enter\", \"Tab\", \".\"]}\n                onAddition={onAddTag}\n                onDelete={onDeleteTag}\n                inputAttributes={inputAttributes}\n                minQueryLength={1}\n                // noSuggestionsText={props.noSuggestionsText}\n                placeholderText={_.isEmpty(tags) ? props.placeholderText : \"\"}\n                suggestions={suggestions}\n                tagComponent={tagComponent}\n                tags={tags}\n                maxSuggestionsLength={100}\n                suggestionsTransform={onHandleSuggestionsTransform}\n              />\n            </div>\n          ) : (\n            <textarea\n              className=\"text-area-comment\"\n              placeholder={_.isEmpty(tags) ? props.placeholderText : \"\"}\n              id={props.id}\n              rows={4}\n              onChange={(e) => onHandChangeTextArea(e)}\n            />\n          )}\n        </div>\n\n        <div className=\"pricetag__defaultTags\">\n          {defaultTags.map((val) => (\n            <button\n              type=\"button\"\n              className={\n                tags.find((tag: any) => tag.name === val.name)\n                  ? \"pricetag__btn active\"\n                  : \"pricetag__btn\"\n              }\n              onClick={() => onAddTag(val)}\n            >\n              {val.name}\n            </button>\n          ))}\n        </div>\n      </div>\n    </>\n  )\n}\n","import _ from 'lodash'\n\nexport const transformWithKeyMap = (\n  array: any[],\n  keyMap: { [x: string]: any }\n) => {\n  return array.map(function (obj) {\n    return _.mapKeys(obj, function (_value, key) {\n      return keyMap[key]\n    })\n  })\n}\n\nexport const transformSuggestionToTag = (\n  array: any[],\n  keyMap: { [x: string]: any }\n) => {\n  return array.map(function (obj) {\n    return {\n      categoryId: obj.categoryId,\n      comments: obj.comments.map(function (obj2: any) {\n        delete obj2.commentUsed\n        delete obj2.createdDate\n        delete obj2.unsignedComment\n        return _.mapKeys(obj2, function (_value, key) {\n          return keyMap[key]\n        })\n      }),\n    }\n  })\n}\n","import { FC, memo, useEffect, useState } from \"react\"\nimport { isEmpty, isNumber } from \"lodash\"\n\nimport { InputTags } from \"components/InputTags\"\nimport { ImageItem } from \"components/ImageItem/ImageItem\"\nimport { PriceTags } from \"components/Pricetags/PriceTags\"\n\nimport { Category } from \"model/core-model/Config\"\n\nimport {\n  transformWithKeyMap,\n  transformSuggestionToTag,\n} from \"utils/transform\"\n\nimport { CommentProps } from 'modules/Comment/CommentView.d'\nimport \"modules/Comment/comment.scss\"\n\nconst CommentView: FC<CommentProps> = (props) => {\n  const { onDataChange, onCommentPriceTagChange } = props\n  const [dataTransformCategories, setDataTransformCategories] = useState<any[]>(\n    props.categoryConfigData\n  )\n\n  const [requestPriceTag, setRequestPriceTag] = useState<any[]>([])\n  const [requestCategories, setRequestCategories] = useState<any[]>([])\n  useEffect(() => {\n    onDataChange(requestCategories)\n  }, [requestCategories])\n\n  useEffect(() => {\n    onCommentPriceTagChange(requestPriceTag)\n  }, [requestPriceTag])\n\n  useEffect(() => {\n    if (\n      !isEmpty(props.commentSuggestionResponse) &&\n      !isEmpty(props.categoryConfigData)\n    ) {\n      //Transform data: from suggestion format to tag format\n      const keyMapSuggestionToTag = {\n        id: \"id\",\n        comment: \"name\",\n      }\n      const suggestionToTags = transformSuggestionToTag(\n        props.commentSuggestionResponse,\n        keyMapSuggestionToTag\n      )\n\n      // Merge suggestion to configure\n      const commentWithConfigureAndTags = props.categoryConfigData.map(\n        (configure) => ({\n          ...configure,\n          ...suggestionToTags.find(\n            (suggestion) => suggestion.categoryId === configure.categoryId\n          ),\n        })\n      )\n      setDataTransformCategories(commentWithConfigureAndTags)\n\n      // Set default request comment (categoryId and tags)\n      let requestCommentTmp: Category[] = []\n      commentWithConfigureAndTags.forEach((category: any) => {\n        let categoryTmp = {\n          categoryId: category.categoryId,\n          photos: [],\n          comments: [],\n        }\n        requestCommentTmp.push(categoryTmp)\n      })\n\n      setRequestCategories(requestCommentTmp)\n    } else if (!isEmpty(props.categoryConfigData)) {\n      // Set default request comment (categoryId and tags)\n      let requestCommentTmp: Category[] = []\n      props.categoryConfigData.forEach((categoryConfigItem: any) => {\n        let categoryTmp = {\n          categoryId: categoryConfigItem.categoryId,\n          photos: [],\n          comments: [],\n        }\n        requestCommentTmp.push(categoryTmp)\n      })\n\n      setRequestCategories(requestCommentTmp)\n    }\n  }, [props.commentSuggestionResponse, props.categoryConfigData])\n\n  const onHandleChangeTag = (tags: any, categoryId: number) => {\n    const keyMap = {\n      id: \"id\",\n      name: \"comment\",\n    }\n    if (!isEmpty(requestCategories)) {\n      const requestCategoriesTmp = [...requestCategories]\n      const tagsToSuggestion = transformWithKeyMap(tags, keyMap)\n\n      tagsToSuggestion.map((item) => {\n        if (item.id === \"\" || !isNumber(item.id)) {\n          return (item.id = null)\n        }\n\n        return item\n      })\n\n      if (categoryId === 28) {\n        const tempDataPriceTag: any[] = []\n\n        tagsToSuggestion.map((item) => {\n          const tempTag = { content: item.comment }\n          tempDataPriceTag.push(tempTag)\n        })\n\n        setRequestPriceTag(tempDataPriceTag)\n      }\n\n      requestCategoriesTmp.find(\n        (item) => item.categoryId === categoryId\n      ).comments = tagsToSuggestion\n      setRequestCategories(requestCategoriesTmp)\n    }\n  }\n\n  const onHandleChangeImage = (imageList: any, categoryId: number) => {\n    if (!isEmpty(requestCategories)) {\n      const requestCategoriesTmp = [...requestCategories]\n      requestCategoriesTmp.find(\n        (item) => item.categoryId === categoryId\n      ).photos = imageList\n      setRequestCategories(requestCategoriesTmp)\n    }\n  }\n\n  return (\n    <div className=\"comment-container\">\n      <div className=\"comment-container__item\">\n        {dataTransformCategories.map((category, index) => {\n          return category.categoryId === 28 ? (\n            <>\n              {category.showTextInput && (\n                <PriceTags\n                  id={category.categoryId.toString()}\n                  showLimit={true}\n                  placeholderText={category.placeHolderTextInput}\n                  allowChange={true}\n                  tags={[]}\n                  suggestions={category.comments ? category.comments : []}\n                  onHandleChange={onHandleChangeTag}\n                  noSuggestionsText=\"Không có dữ liệu\"\n                  categoryId={category.categoryId}\n                  requiredTextInput={category.requiredTextInput}\n                  dataTypeTextInput={category.dataTypeTextInput}\n                />\n              )}\n              {props.errorsConfig.length > 0 &&\n                props.errorsConfig[index].errorInput && (\n                  <p className=\"title-red\">Vui lòng nhập nội dung</p>\n                )}\n            </>\n          ) : (\n            <>\n              <ImageItem\n                onHandleChangeImage={onHandleChangeImage}\n                categoryId={category.categoryId}\n                showPhoto={category.showPhoto}\n                requiredTextInput={category.requiredTextInput}\n                categoryName={category.categoryName}\n              />\n              {props.errorsConfig.length > 0 &&\n                props.errorsConfig[index].errorImage && (\n                  <p className=\"title-red\">Vui lòng thêm hình ảnh</p>\n                )}\n              {category.showTextInput && (\n                <InputTags\n                  id={category.categoryId.toString()}\n                  showLimit={true}\n                  placeholderText={category.placeHolderTextInput}\n                  allowChange={true}\n                  tags={[]}\n                  suggestions={category.comments ? category.comments : []}\n                  onHandleChange={onHandleChangeTag}\n                  noSuggestionsText=\"Không có dữ liệu\"\n                  categoryId={category.categoryId}\n                  requiredTextInput={category.requiredTextInput}\n                  dataTypeTextInput={category.dataTypeTextInput}\n                />\n              )}\n              {props.errorsConfig.length > 0 &&\n                props.errorsConfig[index].errorInput && (\n                  <p className=\"title-red\">Vui lòng nhập nội dung</p>\n                )}\n            </>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\nexport default memo(CommentView)\n"],"names":["useState","useEffect","_","_jsxs","_jsx","FontAwesomeIcon","faTimes","_window","isEmpty","isNumber","memo"],"mappings":"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"}